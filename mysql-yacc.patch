--- mysql-5.0.96/configure.in	2013-08-29 12:23:55.810760951 +0200
+++ mysql-5.0.96.new/configure.in	2013-08-29 12:23:37.173464030 +0200
@@ -269,6 +269,29 @@
 
 AC_SUBST(NM)dnl
 
+##############################################################################
+# In automake 1.12, the extension on generated yacc/bison header files changed
+##############################################################################
+
+YACC_HEXT="h"
+MAKEFILE_1ST=`head -1 "$srcdir/Makefile.in"`
+AMAKE_MAJOR=`expr "$MAKEFILE_1ST" : '.*generated by automake \([[0-9]]*\).*'`
+if test $? -eq "0" ; then
+  if test "$AMAKE_MAJOR" -gt "1" ; then
+    YACC_HEXT="hh"
+    CXXFLAGS="$CXXFLAGS -DYACC_HEXT_HH"
+  elif test "$AMAKE_MAJOR" -eq "1" ; then
+    AMAKE_MINOR=`expr "$MAKEFILE_1ST" : '.*generated by automake 1.\([[0-9]]*\).*'`
+    if test $? -eq "0" ; then
+      if test "$AMAKE_MINOR" -ge "12" ; then
+        YACC_HEXT="hh"
+        CXXFLAGS="$CXXFLAGS -DYACC_HEXT_HH"
+      fi
+    fi
+  fi
+fi
+AC_SUBST(YACC_HEXT)
+
 # NM= "$NM -X64"
 #archive_expsym_cmds= `echo "$archive_expsym_cmds" | sed -e '/"$(CC)"//'`
 #archive_expsym_cmds= "$CC -q64 $archive_expsym_cmds"
--- mysql-5.0.96/sql/sql_lex.h	2013-08-29 12:23:55.444081885 +0200
+++ mysql-5.0.96.new/sql/sql_lex.h	2013-08-29 12:22:30.567877721 +0200
@@ -37,7 +37,11 @@
 #else
 #include "lex_symbol.h"
 #if MYSQL_LEX
-#include "sql_yacc.h"
+#  if YACC_HEXT_HH
+#    include "sql_yacc.hh"
+#  else
+#    include "sql_yacc.h"
+#  endif
 #define LEX_YYSTYPE YYSTYPE *
 #else
 #define LEX_YYSTYPE void *
