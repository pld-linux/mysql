diff -urNp -x '*.orig' mysql-5.0.96.org/mysys/my_getopt.c mysql-5.0.96/mysys/my_getopt.c
--- mysql-5.0.96.org/mysys/my_getopt.c	2012-03-02 15:04:08.000000000 +0100
+++ mysql-5.0.96/mysys/my_getopt.c	2022-10-18 08:27:24.192731450 +0200
@@ -36,7 +36,7 @@ static longlong getopt_ll_limit_value(lo
 static ulonglong getopt_ull(char *arg, const struct my_option *optp,
 			    int *err);
 static void init_variables(const struct my_option *options);
-static int setval(const struct my_option *opts, gptr *value, char *argument,
+static int setval(const struct my_option *opts, gptr value, char *argument,
 		  my_bool set_maximum_value);
 static char *check_struct_option(char *cur_arg, char *key_name);
 
@@ -104,7 +104,7 @@ int handle_options(int *argc, char ***ar
   char **pos, **pos_end, *optend, *UNINIT_VAR(prev_found),
        *opt_str, key_name[FN_REFLEN];
   const struct my_option *optp;
-  gptr *value;
+  gptr value;
   int error;
 
   LINT_INIT(opt_found);
@@ -560,14 +560,14 @@ static char *check_struct_option(char *c
   Will set the option value to given value
 */
 
-static int setval(const struct my_option *opts, gptr *value, char *argument,
+static int setval(const struct my_option *opts, gptr value, char *argument,
 		  my_bool set_maximum_value)
 {
   int err= 0;
 
   if (value && argument)
   {
-    gptr *result_pos= ((set_maximum_value) ?
+    gptr result_pos= ((set_maximum_value) ?
 		       opts->u_max_value : value);
 
     if (!result_pos)
@@ -865,7 +865,7 @@ ulonglong getopt_ull_limit_value(ulonglo
     value              Pointer to variable
 */
 
-static void init_one_value(const struct my_option *optp, gptr *variable,
+static void init_one_value(const struct my_option *optp, gptr variable,
 			   longlong value)
 {
   DBUG_ENTER("init_one_value");
@@ -927,12 +927,12 @@ static void init_variables(const struct
       set the value to default value.
     */
     if (options->u_max_value)
-      init_one_value(options, options->u_max_value, options->max_value);
+      init_one_value(options, (gptr)(options->u_max_value), options->max_value);
     if (options->value)
-      init_one_value(options, options->value, options->def_value);
+      init_one_value(options, (gptr)(options->value), options->def_value);
     if (options->var_type & GET_ASK_ADDR &&
 	(variable= (*getopt_get_addr)("", 0, options)))
-      init_one_value(options, variable, options->def_value);
+      init_one_value(options, (gptr)variable, options->def_value);
   }
   DBUG_VOID_RETURN;
 }
@@ -1033,7 +1033,7 @@ void my_print_variables(const struct my_
   printf("--------------------------------- -----------------------------\n");
   for (optp= options; optp->id; optp++)
   {
-    gptr *value= (optp->var_type & GET_ASK_ADDR ?
+    gptr value= (optp->var_type & GET_ASK_ADDR ?
 		  (*getopt_get_addr)("", 0, optp) : optp->value);
     if (value)
     {
