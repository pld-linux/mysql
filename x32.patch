--- percona-server-5.6.21-70.1/include/m_string.h~	2014-12-28 15:51:15.000000000 +0000
+++ percona-server-5.6.21-70.1/include/m_string.h	2014-12-28 17:47:02.185659146 +0000
@@ -252,7 +252,7 @@
    @return          the last non-space character
 */
 
-#ifdef __x86_64__
+#if defined(__x86_64__) && !defined(__ILP32__)
 
 #if SIZEOF_LONG != 8
 # error "SIZEOF_LONG != 8"
