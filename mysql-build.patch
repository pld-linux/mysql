--- Percona-Server-5.6.13-rel61.0/sql/CMakeLists.txt~	2013-10-07 12:25:25.000000000 +0200
+++ Percona-Server-5.6.13-rel61.0/sql/CMakeLists.txt	2013-10-15 20:37:28.259765844 +0200
@@ -237,20 +237,20 @@
                    log_event.cc log_event_old.cc binlog.cc sql_binlog.cc
 		   rpl_filter.cc rpl_record.cc rpl_record_old.cc rpl_utility.cc
 		   rpl_injector.cc)
-ADD_LIBRARY(binlog ${BINLOG_SOURCE})
+ADD_LIBRARY(binlog STATIC ${BINLOG_SOURCE})
 SET (RPL_SOURCE rpl_handler.cc rpl_tblmap.cc)
 ADD_DEPENDENCIES(binlog GenError)
-ADD_LIBRARY(rpl ${RPL_SOURCE})
+ADD_LIBRARY(rpl STATIC ${RPL_SOURCE})
 SET (MASTER_SOURCE rpl_master.cc)
 ADD_DEPENDENCIES(rpl GenError)
-ADD_LIBRARY(master ${MASTER_SOURCE})
+ADD_LIBRARY(master STATIC ${MASTER_SOURCE})
 ADD_DEPENDENCIES(master GenError)
 SET (SLAVE_SOURCE rpl_slave.cc rpl_reporting.cc rpl_mi.cc rpl_rli.cc
 		  rpl_info_handler.cc rpl_info_file.cc rpl_info_table.cc
 		  rpl_info_values.cc rpl_info.cc rpl_info_factory.cc
 		  rpl_info_table_access.cc dynamic_ids.cc rpl_rli_pdb.cc
 		  rpl_info_dummy.cc)
-ADD_LIBRARY(slave ${SLAVE_SOURCE})
+ADD_LIBRARY(slave STATIC ${SLAVE_SOURCE})
 ADD_DEPENDENCIES(slave GenError)
 ADD_LIBRARY(sqlgunitlib
   filesort_utils.cc mdl.cc sql_list.cc sql_string.cc thr_malloc.cc
--- percona-server-5.6.28-76.1/storage/tokudb/CMakeLists.txt~	2016-01-27 21:17:38.000000000 +0100
+++ percona-server-5.6.28-76.1/storage/tokudb/CMakeLists.txt	2016-01-28 07:23:41.844001444 +0100
@@ -1,6 +1,7 @@
 SET(TOKUDB_VERSION 5.6.28-76.1)
 # PerconaFT only supports x86-64 and cmake-2.8.9+
 IF(CMAKE_SYSTEM_PROCESSOR STREQUAL "x86_64" AND
+    "${CMAKE_SIZEOF_VOID_P}" EQUAL "8" AND
     NOT CMAKE_VERSION VERSION_LESS "2.8.9")
 CHECK_CXX_SOURCE_COMPILES(
 "
--- percona-server-5.6.37-82.2/storage/tokudb/PerconaFT/cmake_modules/TokuSetupCompiler.cmake~	2017-08-24 13:36:46.000000000 +0200
+++ percona-server-5.6.37-82.2/storage/tokudb/PerconaFT/cmake_modules/TokuSetupCompiler.cmake	2017-10-09 20:12:03.039109021 +0200
@@ -197,8 +197,8 @@ if (NOT CMAKE_CXX_COMPILER_ID STREQUAL C
 endif ()
 
 ## always want these
-set(CMAKE_C_FLAGS "-Wall -Werror ${CMAKE_C_FLAGS}")
-set(CMAKE_CXX_FLAGS "-Wall -Werror ${CMAKE_CXX_FLAGS}")
+set(CMAKE_C_FLAGS "-Wall ${CMAKE_C_FLAGS}")
+set(CMAKE_CXX_FLAGS "-Wall ${CMAKE_CXX_FLAGS}")
 
 # pick language dialect
 set(CMAKE_C_FLAGS "-std=c99 ${CMAKE_C_FLAGS}")
--- percona-server-5.6.37-82.2/plugin/tokudb-backup-plugin/Percona-TokuBackup/backup/CMakeLists.txt~	2017-10-09 20:37:05.000000000 +0200
+++ percona-server-5.6.37-82.2/plugin/tokudb-backup-plugin/Percona-TokuBackup/backup/CMakeLists.txt	2017-10-09 20:42:02.664375729 +0200
@@ -18,7 +18,7 @@ set_property(DIRECTORY APPEND PROPERTY C
   _FILE_OFFSET_BITS=64 
   _LARGEFILE64_SOURCE)
 
-set(CMAKE_CXX_FLAGS "-Werror -W -Wall -Wshadow ${CMAKE_CXX_FLAGS}")
+set(CMAKE_CXX_FLAGS "-W -Wall -Wshadow ${CMAKE_CXX_FLAGS}")
 
 set(USE_VALGRIND OFF CACHE BOOL "whether to use valgrind headers")
 if (USE_VALGRIND)
--- percona-server-5.6.37-82.2/sql-common/client_authentication.cc~	2017-08-24 13:30:44.000000000 +0200
+++ percona-server-5.6.37-82.2/sql-common/client_authentication.cc	2017-10-10 07:08:19.782991745 +0200
@@ -83,8 +83,7 @@ RSA *rsa_init(MYSQL *mysql)
   FILE *pub_key_file= NULL;
 
   if (mysql->options.extension != NULL &&
-      mysql->options.extension->server_public_key_path != NULL &&
-      mysql->options.extension->server_public_key_path != '\0')
+      mysql->options.extension->server_public_key_path != NULL)
   {
     pub_key_file= fopen(mysql->options.extension->server_public_key_path,
                         "r");

--- percona-server-5.6.37-82.2/storage/innobase/include/page0zip.ic~	2017-08-24 13:30:44.000000000 +0200
+++ percona-server-5.6.37-82.2/storage/innobase/include/page0zip.ic	2017-10-11 12:27:12.098125815 +0200
@@ -172,7 +172,7 @@ page_zip_rec_needs_ext(
 				ignored if zip_size == 0 */
 	ulint	zip_size)	/*!< in: compressed page size in bytes, or 0 */
 {
-	ut_ad(rec_size > comp ? REC_N_NEW_EXTRA_BYTES : REC_N_OLD_EXTRA_BYTES);
+	ut_ad(rec_size > (comp ? REC_N_NEW_EXTRA_BYTES : REC_N_OLD_EXTRA_BYTES));
 	ut_ad(ut_is_2pow(zip_size));
 	ut_ad(comp || !zip_size);
 
--- percona-server-5.6.37-82.2/sql/log_event.cc~	2017-08-24 13:30:44.000000000 +0200
+++ percona-server-5.6.37-82.2/sql/log_event.cc	2017-10-11 12:48:39.034505850 +0200
@@ -7839,7 +7839,7 @@ User_var_log_event(const char* buf, uint
 #ifndef DBUG_OFF
     bool old_pre_checksum_fd= description_event->is_version_before_checksum();
 #endif
-    DBUG_ASSERT((bytes_read == data_written -
+    DBUG_ASSERT((bytes_read == (data_written -
                  (old_pre_checksum_fd ||
                   (description_event->checksum_alg ==
                    BINLOG_CHECKSUM_ALG_OFF)) ?
@@ -7849,7 +7849,7 @@ User_var_log_event(const char* buf, uint
                  (old_pre_checksum_fd ||
                   (description_event->checksum_alg ==
                    BINLOG_CHECKSUM_ALG_OFF)) ?
-                 0 : BINLOG_CHECKSUM_LEN));
+                 0 : BINLOG_CHECKSUM_LEN)));
     if ((data_written - bytes_read) > 0)
     {
       flags= (uint) *(buf + UV_VAL_IS_NULL + UV_VAL_TYPE_SIZE +
